import e from"is-reachable";const t={pingInterval:12e5,maxRetry:2,onSuccess:()=>null,onFailure:()=>null},n=e=>Object.assign(t,e),a=(t,r)=>{const{maxRetry:l,onFailure:o,onSuccess:s}=n(r);let i=l;e(t,{timeout:15e3}).then(e=>{e?s():i>0?((e,t)=>{setTimeout(()=>{t()},e)})(2500,()=>{a(t,{maxRetry:i-=1})}):o()})};export default(e,t)=>{const r={...n(t)};r.maxRetry>2&&(r.maxRetry=2),r.pingInterval>15e5&&(r.pingInterval=12e5),setInterval(()=>a(e,r),r.pingInterval)};
